<!DOCTYPE html>
<html>
    <head>
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
        <title>JavaScript Advanced - Aufgabe1</title>
        <style type="text/css">
            
            body {
                font-family: Helvetica, Arial, sans-serif;
                background-color: #f3f3f3;
                color: #333;
                margin: 0;
            }
            
            #background_header {
                background-color: #babdb6;
                position: relative;
                height: 175px;
                width: 100%;
                box-shadow: 0 0 5px #666;
            }
            
            #main_section {
                position: relative;
                background-color: #ffffff;
                width: 800px;
                left: 50%;
                margin: -105px auto 70px;
                margin-left: -400px;
                box-shadow: 0 2px 6px #666;
                overflow-x: hidden;
            }
            
                #main_section #main_section_header {
                    width: 100%;
                    height: 106px;
                    background-color: #2e3436;
                }
                
                    #main_section #main_section_header h1 {
                        position: absolute;
                        color: #e3e3e3;
                        margin: 0;
                        margin-left: 30px;
                        margin-top: 30px;
                        text-shadow: 0 0 8px #000;
                    }
                    
                #main_section #main_nav {
                    height: 45px;
                    width: 100%;
                    background-color: #559eeb;
                    box-shadow: 0 0 4px #333;
                }
                
                    #main_section #main_nav ul {
                        margin: 0;
                        padding: 0;
                        padding-left: 3px;
                        list-style: none;
                    }
                    
                        #main_section #main_nav ul li {
                            display: inline;
                            line-height: 45px;
                        }
                        
                        #main_section #main_nav ul li a {
                            color: #e3e3e3;
                            padding: 7px 25px;
                            margin: auto 4px;
                            text-decoration: none;
                            outline: none;
                        }
                        
                        #main_section #main_nav ul li a.item_selected,
                        #main_section #main_nav ul li a:hover {
                            color: #d3d3d3;
                            background-color: #3465a4;
                            box-shadow: inset 3px 3px 5px #1f3e6c;
                            border-top: 1px solid #102b52;
                            border-bottom: 1px solid #aec8e3;
                        }
                        
                #main_section #content_section {
                    margin: 34px;
                }
                
                    #main_section #content_section header h2 {
                        margin: 0;
                        margin-bottom: 50px;
                    }
                    
                    #main_section #content_section #contact_us_form_section input[type="text"] {
                        height: 40px;
                        padding: 0 10px;
                        font-size: 1.3em;
                        font-weight: bold;
                        margin-top: 20px;
                        width: 309px; /* 500px : 1,618  :) */
                    }
                    
                    #main_section #content_section #contact_us_form_section textarea {
                        height: 100px;
                        width: 500px;
                        padding: 10px;
                        font-size: 1.4em;
                        margin-top: 40px;
                    }
                    
                    #main_section #content_section #contact_us_form_section input[type="text"],
                    #main_section #content_section #contact_us_form_section textarea {
                        display: block;
                        border: 1px solid #666;
                    }
                    
                    #main_section #content_section #contact_us_form_section input[type="submit"]#contact_submit_field {
                        color: #f3f3f3;
                        display: block;
                        border: 1px solid #999;
                        margin-top: 40px;
                        width: 522px;
                        padding: 5px 0;
                        cursor: pointer;
                        font-size: 1.3em;
                        font-weight: bold;
                        background-color: #559eeb;
                    }
                    
                    #main_section #content_section #contact_us_form_section input[type="submit"]#contact_submit_field:hover {
                        color: #d3d3d3;
                        background-color: #3465a4;
                        box-shadow: inset 3px 3px 5px #1f3e6c;
                        border-top: 1px solid #102b52;
                        border-bottom: 1px solid #aec8e3;
                    }
            
        </style>
        
        <script type="text/javascript">
            
            
            /* *
             *  ==Aufgabe 1==
             *
             *  Bestimmte Eingabefelder des Formulars dürfen vor dem Abschicken nicht leer sein und sollten ggf. mit
             *  Javascript validiert werden. Hierfür sollten die Pflichtfelder idealerweise so gekennzeichnet sein, dass ein Zugriff auf
             *  diese recht leicht über das DOM und JavaScript möglich wird. Dafür sollte den Pflichtfeldern per Hand die selbe Klasse zugewiesen werden. (class-Attribut)
             *  Die Zeichenkettenlänge eines Pflichtfelds (pflichtfeld.value.length) darf nicht 0 betragen (leeres Feld). Ist dies aber trotzdem der Fall,
             *  wird die Rahmenfarbe dieses Felds auf Rot gesetzt, um dem User eine visuelle Rückmeldung zu geben.
             *  Wurde mindestens ein Pflichtfeld gefunden welches leer ist, dann sollte das Abschicken des Formulars unterbunden werden.
             *  Teil des Codes ist vorgegeben und soll, wo gekennzeichnet, ergänzt werden.
             *  Für die Lösung dieser Aufgabe soll querySelector und querySelectorAll verwendet werden.
             *
             * * * * * * * * * */
             
             /* Wird erst ausgeführt, wenn die Seite komplett geladen wurde; dem DOM ermöglichen sich komplett aufzubauen */
             window.addEventListener('load', function(e) {
                    
                    var contact_form = document; /* #####TODO####: Um dem form-Element einen Eventhandler zuweisen zu können, muss dieser erst bezogen werden ( getElementById() könnte hier auch verwendet werden ) */
                    
                    contact_form.addEventListener('submit', function(e) {
                        var form_errors_found = false; /* Festhalten ob mindestens ein leeres Pflichtfeld gefunden wurde */
                        
                        var required_fields = []; /* ####TODO####: selektieren aller(!) Pflichtfelder (Tipp: Verwendung der Klasse, die alle Pflichtfelder per Hand zugewiesen erhalten haben, als Auswahlkriterium) */
                        
                        /* jedes Pflichtfeld durchgehen und Inhalt überprüfen */
                        for(var i = 0; i < required_fields.length; i++) {
                            if(false) { /* ####TODO####: Überprüfen, ob der Inhalt des Pflichtfelds die Länge 0 hat */
                                
                                required_fields /* ####TODO####: aktuell untersuchtes Feld ist leer -> somit Rahmenfarbe dieses Elements über style auf Rot setzen ( #ff0000 ) */
                                
                                form_errors_found = true; /* mindestens ein leeres Pflichtfeld wurde gefunden */
                            }
                            else {
                                /* ####TODO####: aktuell untersuchtes Feld ist nicht leer -> ggf. zurücksetzen der Rahmenfarbe ( pflichtfeld.style.borderColor = ''; ) */
                            }
                        }
                        
                        /* wenn mindestens ein leeres Pflichtfeld gefunden wurde, dann deaktiviere das Standardverhalten -> Formular wird nicht mehr abgeschickt */
                        if(form_errors_found)
                            e.preventDefault();
                    });
                
             });
             
        </script>
        
    </head>
    <body>
        <header id="background_header">
            
        </header>
        <section id="main_section">
            <header id="main_section_header">
                <h1>Unternehmen XYZ</h1>
            </header>
            <nav id="main_nav">
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Über uns</a></li>
                    <li><a href="#">Support</a></li>
                    <li><a class="item_selected" href="#">Kontakt</a></li>
                </ul>
            </nav>
            <section id="content_section">
                <header>
                    <h2>Kontakt</h2>
                </header>
                <section id="contact_us_form_section">
                    <form id="contact_us_form" action="#" method="get">
                        <input class="" type="text" id="contact_name_field" name="name" value="" placeholder="Name">
                        <input class="" type="text" id="contact_email_field" name="email" value="" placeholder="Email">
                        <input class="" type="text" id="contact_homepage_field" name="homepage" value="" placeholder="Homepage">
                        <textarea class="" id="contact_message_field" name="message"></textarea>
                        <input class="" type="submit" id="contact_submit_field" value="Abschicken">
                    </form>
                </section>
            </section>
        </section>
    </body>
</html>
